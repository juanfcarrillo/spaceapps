---
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const faqs = [
  {
    question: t('faq.question1'),
    answer: t('faq.answer1')
  },
  {
    question: t('faq.question2'),
    answer: t('faq.answer2')
  },
  {
    question: t('faq.question3'),
    answer: t('faq.answer3')
  },
  {
    question: t('faq.question4'),
    answer: t('faq.answer4')
  },
  {
    question: t('faq.question5'),
    answer: t('faq.answer5')
  },
  {
    question: t('faq.question6'),
    answer: t('faq.answer6')
  },
  {
    question: t('faq.question7'),
    answer: t('faq.answer7')
  }
];
---

<script>
    document.addEventListener('DOMContentLoaded', function () {
      const questions = document.querySelectorAll('.faq-question');
      questions.forEach(question => {
        question.addEventListener('click', function () {

          //@ts-ignore
          const answer = this.nextElementSibling;
          answer.classList.toggle('hidden');
          //@ts-ignore
          this.classList.toggle('active');
        });
      });
    });
</script>

<style>
  .faq-question.active::after {
    content: '▲';
  }
  .faq-question::after {
    content: '▼';
    font-size: 0.65rem;
    float: right;
  }
</style>

<div class="max-w-3xl mx-auto p-4">
  <h2 class="text-center text-3xl font-bold mb-10">{t('faq.title')}</h2>
  {faqs.map(faq => (
    <div class="mb-4 bg-white shadow-md rounded-lg">
      <div class="faq-question cursor-pointer py-4 px-6 text-lg font-semibold flex justify-between items-center">
        {faq.question}
      </div>
      <div class="faq-answer hidden py-4 px-6 border-t border-gray-200">
        {faq.answer}
      </div>
    </div>
  ))}
</div>
