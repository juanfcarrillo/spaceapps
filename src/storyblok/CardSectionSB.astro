---
import { storyblokEditable } from "@storyblok/astro";
import CardSection from "../components/organisms/CardSection.astro";
const { blok } = Astro.props;

const items = blok.items.map((item: any) => ({
    number: item.number,
    title: item.title,
    description: item.description,
    list: item.list.map((listItem: any) => (listItem.item)),
}));

const linkButton = blok.button ? blok.button.map((item: any) => ({
    link: item.link.url,
    textContent: item.textContent,
    blank: item.link.target
})) : null;
---

<CardSection
    title={blok.title}
    subtitle={blok.subtitle}
    items={items}
    extra={blok.extra}
    linkButton={linkButton}
    {...storyblokEditable(blok)}
/>
